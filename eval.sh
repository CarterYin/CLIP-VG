export CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7


# # RefCOCO unc
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset unc --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_unc_0701/best_checkpoint.pth --eval_set val   --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_unc_0701;
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset unc --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_unc_0701/best_checkpoint.pth --eval_set testA --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_unc_0701;
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset unc --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_unc_0701/best_checkpoint.pth --eval_set testB --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_unc_0701;

# # RefCOCO+ unc+
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset unc+ --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_unc+_0701/best_checkpoint.pth --eval_set val   --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_unc+_0701;
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset unc+ --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_unc+_0701/best_checkpoint.pth --eval_set testA --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_unc+_0701;
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset unc+ --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_unc+_0701/best_checkpoint.pth --eval_set testB --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_unc+_0701;

# # RefCOCOg g-split gref_g 暂不训

# # RefCOCOg u-split gref_umd
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset gref --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data     --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_grefumd_0701/best_checkpoint.pth     --eval_set val  --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_grefumd_0701;
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset gref_umd --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_grefumd_0701/best_checkpoint.pth --eval_set val  --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_grefumd_0701;
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset gref_umd --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_grefumd_0701/best_checkpoint.pth --eval_set test --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_grefumd_0701;

# ReferItGame
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset referit --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_referit_0701/best_checkpoint.pth --eval_set val  --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_referit_0701;
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=8 --master_port 28888 --use_env eval.py --num_workers 32 --batch_size 128 --backbone resnet50 --bert_enc_num 12 --detr_enc_num 6 --dataset referit --hidden_dim 512 --imsize 224 --max_query_len 77 --data_root /data_SSD1/lhxiao/pseudo-q/image_data --split_root /data_SSD1/lhxiao/transvg/data --eval_model /data_SSD1/lhxiao/clip_vg/output_v2_referit_0701/best_checkpoint.pth --eval_set test --prompt "{pseudo_query}" --output_dir /data_SSD1/lhxiao/clip_vg/output_v2_referit_0701;

